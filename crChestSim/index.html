<!DOCTYPE html>
<style>
.bg{
	position:absolute;
	top:0;
	left:0;
	width:100%;
	height:100%;
	z-index:-1;
}
.dropbtn {
	width: 100%;
    background-color: rgba(0, 100, 255, 1);;
    color: rgba(0, 0, 255, 0)
    padding: 20px;
    font-size: 20px;
    cursor: pointer;

    margin: auto;
}

.dropdown {
    position: relative;
    display: inline-block;
}

.dropdown-content {
    display: none;
    position: absolute;
    background-color: rgba(0, 100, 255, 1);;
    min-width: 160px;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    z-index: 1;
}

.dropdown-content a {
    color: black;
    padding: 12px 16px;
    text-decoration: none;
    display: block;
}

.dropdown-content a:hover {background-color: #f1f1f1}

.dropdown:hover .dropdown-content {
    display: block;
}

.dropdown:hover .dropbtn {
    background-color: rgba(0, 100, 255, 1);
}
.auto-style1 {
	font-family: Arial, Helvetica, sans-serif;
}
.auto-style2 {
	font-family: Arial, Helvetica, sans-serif;
	font-weight: bold;
}
.auto-style3 {
	margin-top: 3px;
}
table {
    font-family: arial, sans-serif;
    border-collapse: collapse;
    width: 100%;
    valign: center;
}

h4{
	font-family: Arial, Helvetica, sans-serif;
}

td, th {
    border: 0px solid #dddddd;
    text-align: left;
    padding: 8px;
    valign: center;
}
p {
	font-family: Arial, Helvetica, sans-serif;
}
button {
	font-family: Arial, Helvetica, sans-serif;
}
tr:nth-child(even) {
  
}
</style>
<body><div>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://www.w3schools.com/lib/w3.js"></script>
<img id="background" src="https://djpiper28.github.io/crChestSim/background.png" alt="background" width="2048" height="1152" class="bg"><img/>

<img id="Archers" scr="https://djpiper28.github.io/crChestSim/common/Archers.png" width="1" height="1"><img/>
<img id="Arrows" scr="https://djpiper28.github.io/crChestSim/common/Arrows.png" width="1" height="1"><img/>
<img id="Barbarians" scr="https://djpiper28.github.io/crChestSim/common/Barbarians.png" width="1" height="1"><img/>
<img id="Bats" scr="https://djpiper28.github.io/crChestSim/common/Bats.png" width="1" height="1"><img/>
<img id="Bomber" scr="https://djpiper28.github.io/crChestSim/common/Bomber.png" width="1" height="1"><img/>
<img id="Cannon" scr="https://djpiper28.github.io/crChestSim/common/Cannon.png" width="1" height="1"><img/>
<img id="Elite Barbarians" scr="https://djpiper28.github.io/crChestSim/common/Elite Barbarians.png" width="1" height="1"><img/>
<img id="Fire Spirits" scr="https://djpiper28.github.io/crChestSim/common/Fire Spirits.png" width="1" height="1"><img/>
<img id="GoblinGang" scr="https://djpiper28.github.io/crChestSim/common/GoblinGang.png" width="1" height="1"><img/>
<img id="Goblins" scr="https://djpiper28.github.io/crChestSim/common/Goblins.png" width="1" height="1"><img/>
<img id="Horde" scr="https://djpiper28.github.io/crChestSim/common/Horde.png" width="1" height="1"><img/>
<img id="Ice Spirit" scr="https://djpiper28.github.io/crChestSim/common/Ice Spirit.png" width="1" height="1"><img/>
<img id="Knight" scr="https://djpiper28.github.io/crChestSim/common/Knight.png" width="1" height="1"><img/>
<img id="Minions" scr="https://djpiper28.github.io/crChestSim/common/Minions.png" width="1" height="1"><img/>
<img id="Mortar" scr="https://djpiper28.github.io/crChestSim/common/Mortar.png" width="1" height="1"><img/>
<img id="Royal Giant" scr="https://djpiper28.github.io/crChestSim/common/Royal Giant.png" width="1" height="1"><img/>
<img id="Skeletons" scr="https://djpiper28.github.io/crChestSim/common/Skeletons.png" width="1" height="1"><img/>
<img id="SpearGoblins" scr="https://djpiper28.github.io/crChestSim/common/SpearGoblins.png" width="1" height="1"><img/>
<img id="Tesla" scr="https://djpiper28.github.io/crChestSim/common/Tesla.png" width="1" height="1"><img/>
<img id="Zap" scr="https://djpiper28.github.io/crChestSim/common/Zap.png" width="1" height="1"><img/>

<img id="Barbarian Hut" scr="https://djpiper28.github.io/crChestSim/rare/Barbarian Hut.png" width="1" height="1"><img/>
<img id="Battle Ram" scr="https://djpiper28.github.io/crChestSim/rare/Battle Ram.png" width="1" height="1"><img/>
<img id="Bomb Tower" scr="https://djpiper28.github.io/crChestSim/rare/Bomb Tower.png" width="1" height="1"><img/>
<img id="Dart Goblin" scr="https://djpiper28.github.io/crChestSim/rare/Dart Goblin.png" width="1" height="1"><img/>
<img id="Elixir Pump" scr="https://djpiper28.github.io/crChestSim/rare/Elixir Pump.png" width="1" height="1"><img/>
<img id="Fireball" scr="https://djpiper28.github.io/crChestSim/rare/Fireball.png" width="1" height="1"><img/>
<img id="Flying Machine" scr="https://djpiper28.github.io/crChestSim/rare/Flying Machine.png" width="1" height="1"><img/>
<img id="Furnace" scr="https://djpiper28.github.io/crChestSim/rare/Furnace.png" width="1" height="1"><img/>
<img id="Giant" scr="https://djpiper28.github.io/crChestSim/rare/Giant.png" width="1" height="1"><img/>
<img id="Goblin Hut" scr="https://djpiper28.github.io/crChestSim/rare/Goblin Hut.png" width="1" height="1"><img/>
<img id="Heal" scr="https://djpiper28.github.io/crChestSim/rare/Heal.png" width="1" height="1"><img/>
<img id="Hog" scr="https://djpiper28.github.io/crChestSim/rare/Hog.png" width="1" height="1"><img/>
<img id="Ice Golem" scr="https://djpiper28.github.io/crChestSim/rare/Ice Golem.png" width="1" height="1"><img/>
<img id="Inferno Tower" scr="https://djpiper28.github.io/crChestSim/rare/Inferno Tower.png" width="1" height="1"><img/>
<img id="Mega Minion" scr="https://djpiper28.github.io/crChestSim/rare/Mega Minion.png" width="1" height="1"><img/>
<img id="Mini P.E.K.K.A" scr="https://djpiper28.github.io/crChestSim/rare/Mini P.E.K.K.A.png" width="1" height="1"><img/>
<img id="Musketeer" scr="https://djpiper28.github.io/crChestSim/rare/Musketeer.png" width="1" height="1"><img/>
<img id="Rocket" scr="https://djpiper28.github.io/crChestSim/rare/Rocket.png" width="1" height="1"><img/>
<img id="Three Musketeers" scr="https://djpiper28.github.io/crChestSim/rare/Three Musketeers.png" width="1" height="1"><img/>
<img id="Tombstone" scr="https://djpiper28.github.io/crChestSim/rare/Tombstone.png" width="1" height="1"><img/>
<img id="Valkyrie" scr="https://djpiper28.github.io/crChestSim/rare/Valkyrie.png" width="1" height="1"><img/>
<img id="Wizard" scr="https://djpiper28.github.io/crChestSim/rare/Wizard.png" width="1" height="1"><img/>

<img id="Baby Dragon" scr="https://djpiper28.github.io/crChestSim/epic/Baby Dragon.png" width="1" height="1"><img/>
<img id="Balloon" scr="https://djpiper28.github.io/crChestSim/epic/Balloon.png" width="1" height="1"><img/>
<img id="Bowler" scr="https://djpiper28.github.io/crChestSim/epic/Bowler.png" width="1" height="1"><img/>
<img id="Cannon Cart" scr="https://djpiper28.github.io/crChestSim/epic/Cannon Cart.png" width="1" height="1"><img/>
<img id="Clone" scr="https://djpiper28.github.io/crChestSim/epic/Clone.png" width="1" height="1"><img/>
<img id="Dark Prince" scr="https://djpiper28.github.io/crChestSim/epic/Dark Prince.png" width="1" height="1"><img/>
<img id="Executioner" scr="https://djpiper28.github.io/crChestSim/epic/Executioner.png" width="1" height="1"><img/>
<img id="Freeze" scr="https://djpiper28.github.io/crChestSim/epic/Freeze.png" width="1" height="1"><img/>
<img id="Giant Skeleton" scr="https://djpiper28.github.io/crChestSim/epic/Giant Skeleton.png" width="1" height="1"><img/>
<img id="Goblin Barrel" scr="https://djpiper28.github.io/crChestSim/epic/Goblin Barrel.png" width="1" height="1"><img/>
<img id="Golem" scr="https://djpiper28.github.io/crChestSim/epic/Golem.png" width="1" height="1"><img/>
<img id="Guards" scr="https://djpiper28.github.io/crChestSim/epic/Guards.png" width="1" height="1"><img/>
<img id="Lightning" scr="https://djpiper28.github.io/crChestSim/epic/Lightning.png" width="1" height="1"><img/>
<img id="Mirror" scr="https://djpiper28.github.io/crChestSim/epic/Mirror.png" width="1" height="1"><img/>
<img id="P.E.K.K.A" scr="https://djpiper28.github.io/crChestSim/epic/P.E.K.K.A.png" width="1" height="1"><img/>
<img id="Poison" scr="https://djpiper28.github.io/crChestSim/epic/Poison.png" width="1" height="1"><img/>
<img id="Prince" scr="https://djpiper28.github.io/crChestSim/epic/Prince.png" width="1" height="1"><img/>
<img id="Rage" scr="https://djpiper28.github.io/crChestSim/epic/Rage.png" width="1" height="1"><img/>
<img id="Skeleton Army" scr="https://djpiper28.github.io/crChestSim/epic/Skeleton Army.png" width="1" height="1"><img/><img id="Tornado" scr="https://djpiper28.github.io/crChestSim/epic/Tornado.png" width="1" height="1"><img/>
<img id="Witch" scr="https://djpiper28.github.io/crChestSim/epic/Witch.png" width="1" height="1"><img/>
<img id="X Bow" scr="https://djpiper28.github.io/crChestSim/epic/X Bow.png" width="1" height="1"><img/>

<img id="Bandit" scr="https://djpiper28.github.io/crChestSim/legendary/Bandit.png" width="1" height="1"><img/>
<img id="Electro Wizard" scr="https://djpiper28.github.io/crChestSim/legendary/Electro Wizard.png" width="1" height="1"><img/>
<img id="Graveyard" scr="https://djpiper28.github.io/crChestSim/legendary/Graveyard.png" width="1" height="1"><img/>
<img id="Ice Wizard" scr="https://djpiper28.github.io/crChestSim/legendary/Ice Wizard.png" width="1" height="1"><img/>
<img id="Inferno Dragon" scr="https://djpiper28.github.io/crChestSim/legendary/Inferno Dragon.png" width="1" height="1"><img/>
<img id="Lava Hound" scr="https://djpiper28.github.io/crChestSim/legendary/Lava Hound.png" width="1" height="1"><img/>
<img id="Lumberjack" scr="https://djpiper28.github.io/crChestSim/legendary/Lumberjack.png" width="1" height="1"><img/>
<img id="Mega Knight" scr="https://djpiper28.github.io/crChestSim/legendary/Mega Knight.png" width="1" height="1"><img/>
<img id="Miner" scr="https://djpiper28.github.io/crChestSim/legendary/Miner.png" width="1" height="1"><img/>
<img id="Night Witch" scr="https://djpiper28.github.io/crChestSim/legendary/Night Witch.png" width="1" height="1"><img/>
<img id="Princess" scr="https://djpiper28.github.io/crChestSim/legendary/Princess.png" width="1" height="1"><img/>
<img id="Sparky" scr="https://djpiper28.github.io/crChestSim/legendary/Sparky.png" width="1" height="1"><img/>
<img id="The Log" scr="https://djpiper28.github.io/crChestSim/legendary/The Log.png" width="1" height="1"><img/>

<img src="https://djpiper28.github.io/crChestSim/chest/free.png" width="1" height="1"  align="middle">
<img src="https://djpiper28.github.io/crChestSim/chest/silver.png" width="1" height="1"  align="middle">
<img src="https://djpiper28.github.io/crChestSim/chest/golden.png" width="1" height="1"  align="middle">
<img src="https://djpiper28.github.io/crChestSim/chest/epic.png" width="1" height="1"  align="middle">
<img src="https://djpiper28.github.io/crChestSim/chest/giant.png" width="1" height="1"  align="middle">
<img src="https://djpiper28.github.io/crChestSim/chest/magical.png" width="1" height="1"  align="middle">
<img src="https://djpiper28.github.io/crChestSim/chest/superMagical.png" width="1" height="1"  align="middle">
<img src="https://djpiper28.github.io/crChestSim/chest/legendary.png" width="1" height="1"  align="middle">
<img src="https://djpiper28.github.io/crChestSim/chest/crown.png" width="1" height="1"  align="middle">

</head>
<body>
<table><th><tr><div class="dropdown">
  <button class="dropbtn">Chose your arena</button>
  <div class="dropdown-content">
    <button class="dropbtn" onclick="setArena(1)">Arena 1</button>
    <button class="dropbtn" onclick="setArena(2)">Arena 2</button>
    <button class="dropbtn" onclick="setArena(3)">Arena 3</button>
    <button class="dropbtn" onclick="setArena(4)">Arena 4</button>
    <button class="dropbtn" onclick="setArena(5)">Arena 5</button>
    <button class="dropbtn" onclick="setArena(6)">Arena 6</button>
    <button class="dropbtn" onclick="setArena(7)">Arena 7</button>
    <button class="dropbtn" onclick="setArena(8)">Arena 8</button>
    <button class="dropbtn" onclick="setArena(9)">Arena 9</button>
    <button class="dropbtn" onclick="setArena(10)">Arena 10</button>
    <button class="dropbtn" onclick="setArena(11)">Arena 11</button>
  </div>
</div></tr>
<tr><div class="dropdown">
  <button class="dropbtn">Chose your Chest</button>
  <div class="dropdown-content">
    <button class="dropbtn" onclick="setChest('free')">Free Chest</button>
    <button class="dropbtn" onclick="setChest('crown')">Crown Chest</button>
    <button class="dropbtn" onclick="setChest('clan')">Clan Chest</button>
    <button class="dropbtn" onclick="setChest('silver')">Silver Chest</button>
    <button class="dropbtn" onclick="setChest('golden')">Golden Chest</button>
    <button class="dropbtn" onclick="setChest('giant')">Giant Chest</button>
    <button class="dropbtn" onclick="setChest('magical')">Magical Chest</button>
    <button class="dropbtn" onclick="setChest('superMagical')">Super Magical Chest</button>
    <button class="dropbtn" onclick="setChest('legendary')">Legendary Chest</button>
    <button class="dropbtn" onclick="setChest('draft')">Draft</button>
    <h4>Challenge/Tourney COMING SOON!</h4>
  </div>
</div></tr></table>

<table valign="center" width="100%">
	<tr valign="center">
		<th valign="center"><img id="chest" src="https://djpiper28.github.io/crChestSim/chest/free.png" alt="chest" width="120" height="134" valign="center" align="middle"><img/></th>
		<th valign="center"><img id="card" src="https://djpiper28.github.io/crChestSim/unknown.png" alt="card" width="120" height="134" valign="center" align="middle"><img/></th>
	</tr>
</table>

</head>
<script>
var x;
var y;
var rect;
var root;
var mouseX;
var mouseY;
var FPS = 20;
//

var common = ["Archers","Arrows","Barbarians","Bats","Bomber","Cannon","Elite Barbarians","Fire Spirits","GoblinGang","Goblins","Horde","Ice Spirit","Knight","Minions","Mortar","Royal Giant","Skeletons","SpearGoblins","Tesla","Zap"];
var rare = ["Barbarian Hut","Battle Ram","Bomb Tower","Dart Goblin","Elixir Pump","Fireball","Flying Machine","Furnace","Giant","Goblin Hut","Heal","Hog","Ice Golem","Inferno Tower","Mega Minion","Mini P.E.K.K.A","Musketeer","Rocket","Three Musketeers","Tombstone","Valkyrie","Wizard"];
var epic = ["Baby Dragon","Balloon","Bowler","Cannon Cart","Clone","Dark Prince","Executioner","Freeze","Giant Skeleton","Goblin Barrel","Golem","Guards","Lightning","Mirror","P.E.K.K.A","Poison","Prince","Rage","Skeleton Army","Tornado","Witch","X Bow"]
var legendary = ["Bandit","Electro Wizard","Graveyard","Ice Wizard","Inferno Dragon","Lava Hound","Lumberjack","Mega Knight","Miner","Night Witch","Princess","Sparky","The Log"
];

var chest = "free";

var arena = 1;

function setChest(c){
	chest = c;
}

function setArena(a){
	arena = a;
}

//the 4 vars above are auto generated
function getRandomCommon(){
	return common[Math.floor(Math.random*(common.length-1))]
}
function getRandomRare(){
	return rare[Math.floor(Math.random*(rare.length-1))]
}
function getRandomEpic(){
	return epic[Math.floor(Math.random*(epic.length-1))]
}
function getRandomLegendary(){
	return legendary[Math.floor(Math.random*(legendary.length-1))]
}

function getLegendaryCheck(chest, cards, commonUnlocked, legendaryUnlocked){
	/*legFactor
	Silver : 10000
	Giant : 10000
	Golden : 5700
	Free : 4000
	Crown : 4000
	Custom Tournament : 4000
	Challenge : 2000
	Clan : 2000
	Magical : 600
	Super magical : 600
	Draft : 200*/

	if(chest == "silver"){
		legFactor = 10000
	}
	if(chest == "giant"){
		legFactor = 10000
	}
	if(chest == "golden"){
		legFactor = 5700
	}
	if(chest == "free"){
		legFactor = 4000
	}
	if(chest == "crown"){
		legFactor = 4000
	}
	if(chest == "custom"){
		legFactor = 4000
	}
	if(chest == "challenge"){
		legFactor = 2000
	}
	if(chest == "clan"){
		legFactor = 2000
	}
	if(chest == "magical"){
		legFactor = 600
	}
	if(chest == "superMagical"){
		legFactor = 600
	}
	if(chest == "draft"){
		legFactor = 200
	}
	confirmed = cards / (legFactor * (commonUnlocked/legendaryUnlocked));
	// guarenteed:confirmed
	chance = cards / (legFactor * (commonUnlocked/legendaryUnlocked)) * 100;
	x = Math.random*100;//a percent
	if(x<=chance){
		return true
	}
	return false

}

function getRareCheck(chest, cards, commonUnlocked, legendaryUnlocked){
	/*Kr : Rare factor of the chest depending on its type :

	Silver : 12
	Giant : 5
	Golden : 10
	Free : 10
	Crown : 10
	Custom Tournament : 10
	Challenge : 10
	Clan : 10
	Magical : 5
	Super magical : 5
	Draft : 2*/

	if(chest == "silver"){
		factor = 12
	}
	if(chest == "giant"){
		factor = 5
	}
	if(chest == "golden"){
		factor = 10
	}
	if(chest == "free"){
		factor = 10
	}
	if(chest == "crown"){
		factor = 10
	}
	if(chest == "custom"){
		factor = 10
	}
	if(chest == "challenge"){
		factor = 10
	}
	if(chest == "clan"){
		factor = 10
	}
	if(chest == "magical"){
		factor = 5
	}
	if(chest == "superMagical"){
		factor = 5
	}
	if(chest == "draft"){
		factor = 2
	}


	confirmed = Math.floor(cards / factor);
	// guarenteed:confirmed
	chance = cards / factor * 100;
	x = Math.random*100;//a percent
	if(x<=chance){
		return true
	}
	return false
}

function getEpicCheck(chest, cards, commonUnlocked, legendaryUnlocked){
	/*Kr : Epic factor of the chest depending on its type :

	Silver : 500
	Giant : 500
	Golden : 285
	Free : 200
	Crown : 200
	Custom Tournament : 200
	Challenge : 100
	Clan : 100
	Magical : 30
	Super magical : 30
	Draft : 10*/

	if(chest == "silver"){
		factor = 500
	}
	if(chest == "giant"){
		factor = 500
	}
	if(chest == "golden"){
		factor = 285
	}
	if(chest == "free"){
		factor = 200
	}
	if(chest == "crown"){
		factor = 200
	}
	if(chest == "custom"){
		factor = 200
	}
	if(chest == "challenge"){
		factor = 100
	}
	if(chest == "clan"){
		factor = 100
	}
	if(chest == "magical"){
		factor = 30
	}
	if(chest == "superMagical"){
		factor = 30
	}
	if(chest == "draft"){
		factor = 10
	}


	confirmed = cards / factor;
	// guarenteed:confirmed
	chance = cards / factor * 100;
	x = Math.random*100;//a percent
	if(x<=chance){
		return true
	}
	return false
}

function getCommon(){
	max = common.length - 1 ;
	return common[Math.floor(Math.random()*max)];
}

function getRare(){
	max = rare.length - 1 ;
	return rare[Math.floor(Math.random()*max)];
}

function getEpic(){
	max = epic.length - 1 ;
	return epic[Math.floor(Math.random()*max)];
}

function getLegendary(){
	max = legendary.length - 1 ;
	return legendary[Math.floor(Math.random()*max)];
}

function input(){
	var x = event.keyCode;
	console.log('space was pressed',x);
}
function mouse(){
	console.log('mouse')
}
function getChest(){
	document.getElementById("chest").outerHTML = "<img id=\"chest\" src=\"https://djpiper28.github.io/crChestSim/chest/"+chest+".png\" alt=\"chest\" width=\"120\" height=\"134\" valign=\"center\" align=\"middle\"><img/>";
}
window.onload = function(){
	console.log("Webpage loaded");
	document.addEventListener('keydown', input);
	document.addEventListener("mousedown", mouse, false);
	setInterval(getChest, 100);
}
</script></div>
<table  width="100%"><tr>
<th><iframe class='iframe' data-aa='535860' src='//ad.a-ads.com/535860?size=336x280' scrolling='no' style='width:336px; height:280px; border:0px; padding:0;overflow:hidden' allowtransparency='true'></iframe></th>
</tr></table></body>
