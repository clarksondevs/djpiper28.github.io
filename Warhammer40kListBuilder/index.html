<!DOCTYPE html>
<style type="text/css">
.auto-style1 {
  font-family: Arial, Helvetica, sans-serif;
}
.auto-style4 {
  font-family: Arial, Helvetica, sans-serif;
}
.auto-style5{
  font-family: Arial, Helvetica, sans-serif;
}
.auto-style2 {
  font-family: Arial, Helvetica, sans-serif;
  font-weight: bold;
}
.auto-style3 {
  margin-top: 3px;
}
.table{
    font-family: arial, sans-serif;
    border-collapse: collapse;
    width: 100%;
}
.td, .th {
    border: 1px solid #dddddd;
    text-align: right;
    padding: 8px;
}
table {
    font-family: arial, sans-serif;
    border-collapse: collapse;
    width: 100%;
}

td, th {
    border: 1px solid #dddddd;
    text-align: left;
    padding: 8px;
}
p {
  font-family: Arial, Helvetica, sans-serif;
}
button {
  font-family: Arial, Helvetica, sans-serif;
}
tr:nth-child(even) {
  
}
.button {
    background-color: #4CAF50; /* Green */
    border: none;
    color: white;
    padding: 15px 32px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    margin: 4px 2px;
    cursor: pointer;
    align-self: right;
    alignment-baseline: right;
}

.button2 {
  background-color: #008CBA;
  border: none;
  color: white;
  padding: 15px 32px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 16px;
  margin: 4px 2px;
  cursor: pointer;
  } /* Blue */
.button3 {
  background-color: #f44336;
  border: none;
  color: white;
  padding: 15px 32px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 16px;
  margin: 4px 2px;
  cursor: pointer;
  } /* Red */ 
.button4 {background-color: #e7e7e7; color: black;} /* Gray */ 
.button5 {background-color: #555555;} /* Black */
</style>
<html>
  <head class="auto-style1">
    <meta charset="UTF-8">
    <title class="auto-style1">Warhammer 40K List Builder</title>
  </head>
  <body class="auto-style1">
    <div id="divOne">
    <table>
      <tr>
        <th><p>Unit name</p><textarea id="unitNameInput"></textarea></th>
        <th><p>Unit composition</p><textarea id="UnitCompositionInput"></textarea></th>
        <th class="th"><button class="button2" id="toggleme" onclick="printable();">Toggle Printable</button></th>
      </tr>
      <tr>
        <th><p>Upgrades</p><textarea id="UpgradesInput"></textarea></th>
        <th><p>Power level</p><textarea id="PowerInput"></textarea></th>
        <th><p>Points</p><textarea id="PointsInput"></textarea></th>
    </tr>
    </table></div>
    <table>
      <tr>
        <th class="auto-style1"><h3>Unit Name</h3></th>
        <th class="auto-style1"><h3>Composition</h3></th>
        <th class="auto-style1"><h3>Upgrades</h3></th>
        <th class="auto-style1"><h3>Power Level</h3></th>
        <th class="auto-style1"><h3>Points</h3></th>
        <th class="auto-style1"><h3><button class="button3" onclick="deleteAll()">Delete All</button></h3></th>
        <th id="totalPoints" class="auto-style1"><h3>Total Power: 
        Total Points:</h3></th>
      </tr>
      <tr id="noDelete">
        <th class="auto-style1"><button class="button" onclick="addUnit()">Add Unit</button></th>
        <th class="auto-style1"></th>
        <th class="auto-style1"></th>
        <th class="auto-style1"></th>
        <th class="auto-style1"></th>
        <th class="auto-style1"></th>
      </tr>
    </table>
    <table id="AddUnitHere">
      
    </table>
    <div><iframe id="ad" data-aa='535860' src='//ad.a-ads.com/535860?size=336x280' scrolling='no' style='width:336px; height:280px; border:0px; padding:0;overflow:hidden' allowtransparency='true'></iframe></div>
<script scr="jquery-3.2.1.min"></script>
<script>
var z = parseInt(0);
var zz = parseInt(0);
var button_toggle_on = "<button class=\"button\" id=\"toggleme\" onclick=\"printable();\">Toggle Printable</button>";
var button_toggle_off = "<table id=\"divOne\" width=\"100%\">\n  <tr>\n    <th class=\"th\"><button class=\"button2\" onclick=\"unhide();\">Toggle Printable</button></th>\n  </tr>\n</table>";
function printable(){
  document.getElementById("ad").outerHTML="<p id=\"ad\">";//hides the ad
  document.getElementById("divOne").outerHTML=button_toggle_off;//hides the input area
}
function unhide(){
  document.getElementById("ad").outerHTML="<iframe id=\"ad\" data-aa='535860' src='//ad.a-ads.com/535860?size=336x280' scrolling='no' style='width:336px; height:280px; border:0px; padding:0;overflow:hidden' allowtransparency='true'></iframe>";//unhides the ad
  document.getElementById("divOne").outerHTML="<div id=\"divOne\"><table>\n      <tr>\n        <th><p>Unit name</p><textarea id=\"unitNameInput\"></textarea></th>\n        <th><p>Unit composition</p><textarea id=\"UnitCompositionInput\"></textarea></th>\n        <th class=\"th\"><button class=\"button2\" id=\"toggleme\" onclick=\"printable();\">Toggle Printable</button></th>\n      </tr>\n      <tr>\n        <th><p>Upgrades</p><textarea id=\"UpgradesInput\"></textarea></th>\n        <th><p>Power level</p><textarea id=\"PowerInput\"></textarea></th>\n        <th><p>Points</p><textarea id=\"PointsInput\"></textarea></th>\n    </tr>\n    </table></div>";//unhides the input area"  
}
function addUnit(){

  var unitName = document.getElementById("unitNameInput").value;
  var UnitComposition = document.getElementById("UnitCompositionInput").value;
  var Upgrades = document.getElementById("UpgradesInput").value;
  var Points = document.getElementById("PointsInput").value;
  var Power = document.getElementById("PowerInput").value;

  var table = document.getElementById("AddUnitHere");
  var DeleteButton = '<button class="button3" onclick="deleteUnit(this)">Delete</button>';
 
  var row = table.insertRow(0);

  var cell1 = row.insertCell(0);
  var cell2 = row.insertCell(1);
  var cell3 = row.insertCell(2);
  var cell4 = row.insertCell(3);
  var cell5 = row.insertCell(4);
  var cell6 = row.insertCell(5);

  cell1.innerHTML = unitName;
  cell2.innerHTML = UnitComposition;
  cell3.innerHTML = Upgrades;
  cell4.outerHTML = "<td class=\"auto-style4\">"+Power+"</td>";
  cell5.outerHTML = "<td class=\"auto-style5\">"+Points+"</td>";
  cell6.outerHTML = DeleteButton;
  console.log(z);
  console.log(Power);
  z=z+parseInt(Power);
  zz=zz+parseInt(Points);

  totalPoints = document.getElementById("totalPoints");
  allrows = document.getElementsByClassName("auto-style4");
  allrowslen = allrows.length;//get length of array allrows  i=0;
  totalPoints.innerHTML = "Total Power: " + z +"\nTotal Points: "+zz; 
}
function deleteUnit(x){
  rowNumber = x.rowIndex;
  if(rowNumber==null){
    console.log("error");
    rowNumber=0;
  }
  console.log(rowNumber);
  var table = document.getElementById("AddUnitHere");
  z = z - parseInt(document.getElementsByClassName("auto-style4")[rowNumber].innerHTML);
  zz = zz - parseInt(document.getElementsByClassName("auto-style5")[rowNumber].innerHTML);
  totalPoints.innerHTML = "Total Power: " + z +"\nTotal Points: "+zz; 
  var row = table.deleteRow(rowNumber);
}
function getRowByClick(x) {
  console.log(x.rowIndex);
  return x.rowIndex;
}
function getRow(id){
  var tableLength = document.getElementById("AddUnitHere").rows.length;
  return tableLength;
}
function deleteAll(){
  contentsOfTable = "<table id=\"AddUnitHere\"></table>";
  document.getElementById("AddUnitHere").outerHTML = contentsOfTable;
  z = 0;
  zz = 0;
  totalPoints.innerHTML = "Total Power: " + z + "\nTotal Points: "+zz; 
}
</script>
  </body>
</html>